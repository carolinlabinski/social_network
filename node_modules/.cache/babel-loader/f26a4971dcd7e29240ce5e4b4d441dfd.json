{"ast":null,"code":"var _jsxFileName = \"/Users/carolinlabinski/Documents/THP_next/sem8/mini_social_network/src/components/MyPosts/MyPosts.jsx\";\nimport Cookies from \"js-cookie\";\nimport React, { useState, useEffect } from \"react\";\nimport jwt_decode from \"jwt-decode\";\n\nconst MyPosts = () => {\n  //getMyPosts\n  useEffect(() => {\n    let jwt = Cookies.get(\"token\");\n    const myUsername = jwt_decode(jwt);\n    const url = \"https://api-minireseausocial.mathis-dyk.fr/user\" + myUsername;\n    console.log(myUsername);\n    fetch(url, {\n      method: \"get\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(post => {\n      console.log(\"test\" + post); // console.log(post.username);\n      // console.log(post.user);\n      // console.log(post.email);\n      // setDataUser(post.username);\n      // setDataMail(post.email);\n      // setDataDescription(post.description);\n\n      console.log(\"Cookies get:\" + Cookies.get(\"token\"));\n    }).then(posts => {\n      console.log(posts);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }, \"My tweets:\"));\n};\n\nexport default MyPosts;","map":{"version":3,"sources":["/Users/carolinlabinski/Documents/THP_next/sem8/mini_social_network/src/components/MyPosts/MyPosts.jsx"],"names":["Cookies","React","useState","useEffect","jwt_decode","MyPosts","jwt","get","myUsername","url","console","log","fetch","method","headers","Authorization","then","res","json","post","posts"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AACrB;AACAF,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIG,GAAG,GAAGN,OAAO,CAACO,GAAR,CAAY,OAAZ,CAAV;AACA,UAAMC,UAAU,GAAGJ,UAAU,CAACE,GAAD,CAA7B;AACA,UAAMG,GAAG,GAAG,oDAAoDD,UAAhE;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AAEAI,IAAAA,KAAK,CAACH,GAAD,EAAM;AACVI,MAAAA,MAAM,EAAE,KADE;AAEVC,MAAAA,OAAO,EAAE;AACRC,QAAAA,aAAa,EAAG,UAAST,GAAI,EADrB;AAER,wBAAgB;AAFR;AAFC,KAAN,CAAL,CAOEU,IAPF,CAOQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPhB,EAQEF,IARF,CAQQG,IAAD,IAAU;AACfT,MAAAA,OAAO,CAACC,GAAR,CAAY,SAASQ,IAArB,EADe,CAEf;AACA;AACA;AACA;AACA;AACA;;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBX,OAAO,CAACO,GAAR,CAAY,OAAZ,CAA7B;AACA,KAjBF,EAkBES,IAlBF,CAkBQI,KAAD,IAAW;AAChBV,MAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACA,KApBF;AAqBA,GA3BQ,EA2BN,EA3BM,CAAT;AA6BA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,CADD;AAKA,CApCD;;AAsCA,eAAef,OAAf","sourcesContent":["import Cookies from \"js-cookie\";\nimport React, { useState, useEffect } from \"react\";\nimport jwt_decode from \"jwt-decode\";\n\nconst MyPosts = () => {\n\t//getMyPosts\n\tuseEffect(() => {\n\t\tlet jwt = Cookies.get(\"token\");\n\t\tconst myUsername = jwt_decode(jwt);\n\t\tconst url = \"https://api-minireseausocial.mathis-dyk.fr/user\" + myUsername;\n\t\tconsole.log(myUsername);\n\n\t\tfetch(url, {\n\t\t\tmethod: \"get\",\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${jwt}`,\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((post) => {\n\t\t\t\tconsole.log(\"test\" + post);\n\t\t\t\t// console.log(post.username);\n\t\t\t\t// console.log(post.user);\n\t\t\t\t// console.log(post.email);\n\t\t\t\t// setDataUser(post.username);\n\t\t\t\t// setDataMail(post.email);\n\t\t\t\t// setDataDescription(post.description);\n\t\t\t\tconsole.log(\"Cookies get:\" + Cookies.get(\"token\"));\n\t\t\t})\n\t\t\t.then((posts) => {\n\t\t\t\tconsole.log(posts);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>My tweets:</h1>\n\t\t</div>\n\t);\n};\n\nexport default MyPosts;\n"]},"metadata":{},"sourceType":"module"}